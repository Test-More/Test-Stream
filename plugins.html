<dl class="listnav">
    <dt id="Core">Core</dt>
    <dd>
        <h2>Test::Stream::Plugin::Core</h2>

        The core plugin provides several of the most commonly used test tools:

        <table>
            <tr>
                <td>
        <dl class="short">
            <dt>ok</dt>              <dd>Simple truth check</dd>
            <dt>diag</dt>            <dd>Critical diagnostics</dd>
            <dt>note</dt>            <dd>Informational Diagnostics</dd>
            <dt>done_testing</dt>    <dd>End the test, set the plan</dd>
            <dt>todo</dt>            <dd>Toggle todo status</dd>
            <dt>skip</dt>            <dd>skip some tests</dd>
            <dt>can_ok</dt>          <dd>Check if an object/class has methods</dd>
            <dt>isa_ok</dt>          <dd>Check object/class isa higherarchy</dd>
            <dt>ref_ok</dt>          <dd>Check that something is a ref</dd>
        </dl>
                </td>
                <td>
        <dl class="short">
            <dt>DOES_ok</dt>         <dd>Check if an object/class DOES something</dd>
            <dt>ref_is</dt>          <dd>Compare 2 refs that should be the same</dd>
            <dt>ref_is_not</dt>      <dd>Compare 2 refs that should be different</dd>
            <dt>plan</dt>            <dd>Set the plan</dd>
            <dt>skip_all</dt>        <dd>Skip all the tests</dd>
            <dt>BAIL_OUT</dt>        <dd>Abort testing</dd>
            <dt>set_encoding</dt>    <dd>Set the encoding of the output formatter</dd>
            <dt>imported_ok</dt>     <dd>Check that functions are in the current namespace</dd>
            <dt>not_imported_ok</dt> <dd style="padding-left: 22px">Check that functions are not in the current namespace</dd>
        </dl>

                </td>
            </tr>
        </table>
    </dd>

    <dt id="classic">Classic</dt>
    <dd>
        <h2>Test::Stream::Plugin::Classic (Coming soon)</h2>

        This provides some classic functions from Test::More:

        <br /><br /><br />

        <dl class="short">
            <dt>is</dt>        <dd>Compare 2 strings that should be the same</dd>
            <dt>isnt</dt>      <dd>Compare 2 strings that should be different</dd>
            <dt>like</dt>      <dd>Check that the string matches a pattern</dd>
            <dt>unlike</dt>    <dd>Check that the string does not match a pattern</dd>
            <dt>is_deeply</dt> <dd>Compare 2 structures</dd>
        </dl>

        <br /><br />

        This plugin is not yet released, but will be soon. Test::Stream
        primarily uses the 'Compare' plugin for these types of checks.
    </dd>

    <dt id="utf8">UTF8</dt>
    <dd>
        <h2>Test::Stream::Plugin::UTF8</h2>

        <p>

        This plugin makes your test UTF8. This means your file is parsed with
        utf8 turned on, and all output handles, including your formatters, are
        utf8.

        <br />
        <br />

        <script class="code">
            use Test::Stream qw/... UTF8/;
        </script>

        This is the same as:

        <script class="code">
            use Test::Stream '...';
            use utf8;
            BEGIN {
                set_encoding('utf8');
                binmode(STDERR, ':utf8');
                binmode(STDOUT, ':utf8');
            }
        </script>
    </dd>

    <dt id="intercept">Intercept</dt>
    <dd>
        <h2>Test::Stream::Plugin::Intercept</h2>

        This tool is used to temporarily intercept events. This is used to test
        Test::Stream itself, ass well as third party plugins.

        <script class="code">
            use Test::Stream qw/Intercept Compare Core/;

            my $events = intercept {
                ok(1, 'foo');
                ok(0, 'bar');
            };

            is(@$events, 2, "intercepted 2 events.");

            isa_ok($events->[0], 'Test::Stream::Event::Ok');
            ok($events->[0]->pass, "first event passed");
        </script>
    </dd>

    <dt id="compare">Compare</dt>
    <dd>
        <h2>Test::Stream::Plugin::Compare</h2>

        The compare plugin is the interface into Test::Stream's powerful comparison library.

        <p>

        The main things to note are these functions:

        <dl>
            <dt>is()</dt>
            <dd>
                'is()' is a unification of Test::More's 'is()' and
                'is_deeply()'.  It can take simple string, or complex
                data structures.
            </dd>

            <dt>&nbsp;</dt><dd></dd>

            <dt>like()</dt>
            <dd>
                'like()' is a combination of Test::More's 'like()' and
                'is_deeply()'. It compares data structures deeply, but only
                checks the fields specified in the expect structure, ignoring
                anything extra. Regexes can also be used for any field.
            </dd>
        </dl>

        <script class="code">
            is('aaa', 'aaa', "pass");
            is('aaa', 'bbb', "fail");

            is({foo => 'bar'}, {foo => 'bar'}, "pass deep");

            like('foo', qr/o/, "pass");
            like('foo', qr/a/, "fail");

            like(
                { foo => 'aaa', bar => 'bbb' },
                { foo => qr/a/ },
                "Only check the fields we ask about (pass)"
            );
        </script>
    </dd>

    <dt id="spec">Spec</dt>
    <dd>
        <h2>Test::Stream::Plugin::Spec</h2>

        This provides RSpec style testing constructs.

        <script class="code">
            use Test::Stream qw/... Spec/;

            tests foo => sub { ... };

            describe stuff => sub {
                before_each prep => sub { ... };
                after_each  term => sub { ... };

                case 'free' => sub { ... };
                case 'cost' => sub { ... };

                tests first  => sub { ... };
                tests second => sub { .... };
            };

            done_testing;
        </script>
    </dd>

    <dt id="mock">Mock</dt>
    <dd>
        <h2>Test::Stream::Plugin::Mock</h2>

        This plugin is the primary interface for Test::Stream's powerful
        mocking library.

        <ul>
            <li>Can mock real classes</li>
            <li>Can generate anonymous classes</li>
            <li>Mocking is lexical!</li>
            <li>You get an object to control mocking</li>
        </ul>

        <script class="code">
            my $m = mock ... => (
                add => [ new_method => sub { ... }, ... ],

                override => [ replace_method => sub { ... }, ... ],
            );

            ...

            $m->add(foo => sub { 'FOO' });
            $m->override(foo => sub { 'foo' });

            ...

            $m = undef; # No more mocking
        </script>
    </dd>

    <dt id="others">Others</dt>
    <dd>
        <h2>Other Plugins</h2>

        <dl class="medium">
            <dt>AuthorTest</dt>  <dd>Skip a test unless AUTHOR_TESTING is set</dd>
            <dt>BailOnFail</dt>  <dd>Bail out on first failure</dd>
            <dt>CanFork</dt>     <dd>Skip unless the system can fork</dd>
            <dt>CanThread</dt>   <dd>Skip unless ithreads ar enabled</dd>
            <dt>Capabilities</dt><dd>Check for system capabilities</dd>
            <dt>Capture</dt>     <dd>Capture stdout and stderr</dd>
            <dt>Class</dt>       <dd>Set the class currently being tested</dd>
            <dt>Context</dt>     <dd>Plugin for the context() function</dd>
            <dt>Defer</dt>       <dd>write tests that run later</dd>
            <dt>DieOnFail</dt>   <dd>Die on first failure</dd>
            <dt>Exception</dt>   <dd>Capture exceptions</dd>
            <dt>ExitSummary</dt> <dd>Diagnostics at the end of the test</dd>
            <dt>Grab</dt>        <dd>Another way to intercept events</dd>
            <dt>IPC</dt>         <dd>Control the IPC system</dd>
            <dt>LoadPlugin</dt>  <dd>Load a plugin at runtime</dd>
            <dt>SRand</dt>       <dd>Set the random seed</dd>
            <dt>SkipWithout</dt> <dd>Skip test unless modules are installed and at the right version.</dd>
            <dt>Subtest</dt>     <dd>Subtests (exports 'subtest')</dd>
            <dt>TAP</dt>         <dd>Set the formatter to TAP</dd>
            <dt>Warnings</dt>    <dd>Intercept warnings</dd>
        </dl>
    </dd>
</dl>
